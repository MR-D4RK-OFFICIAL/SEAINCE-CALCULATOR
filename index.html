<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>বিজ্ঞানী ক্যালকুলেটর - BCT Tools Hub</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #4f46e5; --primary-dark: #4338ca; --primary-light: #c7d2fe;
            --secondary: #10b981; --secondary-dark: #059669;
            --text-color: #111827; --text-muted: #6b7280;
            --bg-color: #f7f8fc; --surface-color: #ffffff;
            --border-color: #e5e7eb; --radius: 16px;
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Inter', 'Hind Siliguri', sans-serif;
            line-height: 1.7;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .container { max-width: 550px; margin: 20px auto; padding: 0 20px; width: 100%; flex-grow: 1; }
        
        /* Header */
        .main-header { background: rgba(255, 255, 255, 0.8); padding: 15px 0; border-bottom: 1px solid var(--border-color); }
        .header-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; justify-content: flex-start; align-items: center; }
        .logo { display: inline-flex; align-items: center; gap: 12px; text-decoration: none; color: var(--text-color); }
        .logo img { height: 45px; }
        .logo-text { font-size: 1.3rem; font-weight: 800; }
        .logo-text span { color: var(--primary); }

        /* Page Header */
        .page-header { text-align: center; padding: 30px 0; }
        .page-header h1 { font-size: 2.8rem; font-weight: 800; }
        .page-header p { font-size: 1.1rem; color: var(--text-muted); max-width: 600px; margin: 10px auto 0 auto; }

        /* Scientific Calculator Styles */
        .calculator-wrapper {
            background: var(--surface-color);
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
        }
        .sci-display-wrapper {
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 25px;
            text-align: right;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            word-break: break-all;
        }
        .sci-previous-operand {
            font-size: 1.1rem;
            color: var(--text-muted);
            height: 25px;
            opacity: 0.8;
        }
        .sci-current-operand {
            font-size: 2.8rem;
            font-weight: 700;
        }
        .sci-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
        }
        .sci-btn {
            padding: 20px;
            font-size: 1.25rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            background: #f3f4f6;
            color: #374151;
        }
        .sci-btn:hover { background: #e5e7eb; }
        .sci-btn:active { transform: scale(0.95); box-shadow: none; }
        .sci-btn.function { background: var(--primary-light); color: var(--primary-dark); }
        .sci-btn.operator { background: var(--secondary); color: white; font-size: 1.6rem; }
        .sci-btn.equals { background: var(--primary); color: white; }
        .sci-btn.span-two { grid-column: span 2; }
        .sci-btn.clear { background: #fca5a5; color: #991b1b; }
        .sci-btn.all-clear { background: #ef4444; color: white; }
        #error-message { text-align: center; color: #be123c; font-weight: 600; min-height: 24px; padding-top: 15px;}

        /* Footer */
        .main-footer { background: var(--text-color); color: #a0aec0; padding: 40px 0 20px 0; margin-top: 50px; }
        .footer-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; text-align: center; }
        .footer-about .logo { margin-bottom: 20px; color: white; display: inline-flex; }
        .footer-about p { max-width: 400px; margin: 0 auto 20px auto; }
        .footer-bottom { border-top: 1px solid #4a5568; padding-top: 25px; font-size: 0.95rem; }
        .footer-bottom a { color: var(--primary-light); text-decoration: none; font-weight: 600; }
        .footer-bottom a:hover { text-decoration: underline; }

        /* --- Responsive Styles for Mobile --- */
        @media (max-width: 600px) {
            .container {
                padding: 0 15px;
                margin-top: 10px;
            }
            .logo img { height: 40px; }
            .logo-text { font-size: 1.1rem; }

            .page-header { padding: 20px 0; }
            .page-header h1 { font-size: 2.1rem; }
            .page-header p { font-size: 1rem; }

            .calculator-wrapper { padding: 20px 15px; }
            
            .sci-display-wrapper {
                min-height: 90px;
                padding: 10px 15px;
            }
            .sci-current-operand { font-size: 2.2rem; }
            .sci-previous-operand { font-size: 1rem; }

            .sci-buttons { gap: 8px; }
            .sci-btn {
                padding: 16px 5px; /* Adjust padding for smaller screens */
                font-size: 1.1rem;
            }
            .sci-btn.operator { font-size: 1.4rem; }

            .footer-about p { padding: 0 10px; }
        }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="header-container">
            <a href="#" class="logo">
                <img src="https://i.ibb.co/MyZXHdHf/app-icon.png" alt="BCT TOOLS HUB Logo">
                <div class="logo-text">BCT<span> TOOLS HUB</span></div>
            </a>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="page-header">
                <h1>বিজ্ঞানী ক্যালকুলেটর</h1>
                <p>বিভিন্ন গাণিতিক ও বৈজ্ঞানিক হিসাব করার জন্য উন্নত ক্যালকুলেটর।</p>
            </div>
            
            <div class="calculator-wrapper">
                <div class="sci-display-wrapper">
                    <div data-previous-operand class="sci-previous-operand"></div>
                    <div data-current-operand class="sci-current-operand">0</div>
                </div>
                <div class="sci-buttons">
                    <button data-function="sin" class="sci-btn function">sin</button>
                    <button data-function="cos" class="sci-btn function">cos</button>
                    <button data-function="tan" class="sci-btn function">tan</button>
                    <button data-all-clear class="sci-btn all-clear">AC</button>
                    <button data-delete class="sci-btn clear">DEL</button>
                    
                    <button data-operation="**" class="sci-btn function">xʸ</button>
                    <button data-function="log" class="sci-btn function">log</button>
                    <button data-function="ln" class="sci-btn function">ln</button>
                    <button data-number="(" class="sci-btn function">(</button>
                    <button data-number=")" class="sci-btn function">)</button>

                    <button data-function="sqrt" class="sci-btn function">√</button>
                    <button data-number="7" class="sci-btn">7</button>
                    <button data-number="8" class="sci-btn">8</button>
                    <button data-number="9" class="sci-btn">9</button>
                    <button data-operation="÷" class="sci-btn operator">÷</button>

                    <button data-constant="PI" class="sci-btn function">π</button>
                    <button data-number="4" class="sci-btn">4</button>
                    <button data-number="5" class="sci-btn">5</button>
                    <button data-number="6" class="sci-btn">6</button>
                    <button data-operation="×" class="sci-btn operator">×</button>

                    <button data-operation="%" class="sci-btn operator">%</button>
                    <button data-number="1" class="sci-btn">1</button>
                    <button data-number="2" class="sci-btn">2</button>
                    <button data-number="3" class="sci-btn">3</button>
                    <button data-operation="-" class="sci-btn operator">-</button>
                    
                    <button data-number="." class="sci-btn">.</button>
                    <button data-number="0" class="sci-btn">0</button>
                    <button data-equals class="sci-btn equals span-two">=</button>
                    <button data-operation="+" class="sci-btn operator">+</button>
                </div>
                <div id="error-message"></div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-about">
                <a href="#" class="logo">
                    <img src="https://i.ibb.co/MyZXHdHf/app-icon.png" alt="BCT TOOLS HUB Logo">
                    <div class="logo-text">BCT<span> TOOLS HUB</span></div>
                </a>
                <p>BCT TOOLS HUB হলো Bangladesh Cyber Troops-এর একটি উদ্যোগ, যার লক্ষ্য প্রয়োজনীয় ডিজিটাল টুলস সবার জন্য সহজলভ্য করা।</p>
            </div>
            <div class="footer-bottom">
                <p>© 2025 BCT TOOLS HUB | Developed By <a href="https://contac.kelvinasford.netlify.app" target="_blank">Kelvin Ashford</a></p>
            </div>
        </div>
    </footer>

    <script>
    // Javascript code is unchanged as it controls functionality, not layout.
    // The previous script is fully functional.
    class Calculator {
        constructor(previousOperandTextElement, currentOperandTextElement, errorMessageElement) {
            this.previousOperandTextElement = previousOperandTextElement;
            this.currentOperandTextElement = currentOperandTextElement;
            this.errorMessageElement = errorMessageElement;
            this.clear();
        }

        clear() {
            this.currentOperand = '0';
            this.previousOperand = '';
            this.expression = '';
            this.updateDisplay();
            this.errorMessageElement.innerText = '';
        }
        
        delete() {
            if (this.currentOperand === '0') return;
            this.currentOperand = this.currentOperand.toString().slice(0, -1);
            if (this.currentOperand === '') {
                this.currentOperand = '0';
            }
            this.updateDisplay();
        }

        append(value) {
            this.errorMessageElement.innerText = '';
            // Prevent multiple decimals in the same number segment
            const parts = this.currentOperand.split(/[\+\-\×\÷\%\*\(\)\s\^]/);
            if (value === '.' && parts[parts.length - 1].includes('.')) return;
            
            if (this.currentOperand === '0' && !'()'.includes(value) && value !== '.') {
                this.currentOperand = value;
            } else {
                this.currentOperand += value;
            }
            this.updateDisplay();
        }
        
        applyFunction(func) {
            this.errorMessageElement.innerText = '';
            if(this.currentOperand === '0') this.currentOperand = '';
            this.currentOperand += `${func}(`;
            this.updateDisplay();
        }
        
        applyConstant(constant) {
             this.errorMessageElement.innerText = '';
             if(this.currentOperand === '0') this.currentOperand = '';
             this.currentOperand += ` ${constant} `;
             this.updateDisplay();
        }

        compute() {
            this.errorMessageElement.innerText = '';
            this.previousOperand = `${this.currentOperand} =`;
            try {
                let evalExpression = this.currentOperand
                    .replace(/×/g, '*')
                    .replace(/÷/g, '/')
                    .replace(/π/g, 'Math.PI')
                    .replace(/√/g, 'Math.sqrt')
                    .replace(/log/g, 'Math.log10')
                    .replace(/ln/g, 'Math.log')
                    .replace(/sin\(/g, 'Math.sin(Math.PI/180 *')
                    .replace(/cos\(/g, 'Math.cos(Math.PI/180 *')
                    .replace(/tan\(/g, 'Math.tan(Math.PI/180 *');

                // This is a safer way than direct eval, but still has limitations.
                // For a production app, a proper math expression parser would be best.
                const result = new Function('return ' + evalExpression)();

                if (isNaN(result) || !isFinite(result)) {
                   throw new Error("Invalid calculation");
                }

                this.currentOperand = String(parseFloat(result.toPrecision(12)));

            } catch (error) {
                this.errorMessageElement.innerText = 'ভুল হিসাব';
                this.previousOperand = '';
            }
            this.updateDisplay(true);
        }

        updateDisplay(isResult = false) {
            this.currentOperandTextElement.innerText = this.currentOperand;
            if(isResult){
                 this.previousOperandTextElement.innerText = this.previousOperand;
            } else if (this.previousOperand !== '' && !this.previousOperand.includes('=')) {
                this.previousOperandTextElement.innerText = this.previousOperand;
            } else if (!isResult) {
                 this.previousOperandTextElement.innerText = '';
            }
        }
    }

    const numberButtons = document.querySelectorAll('[data-number]');
    const operationButtons = document.querySelectorAll('[data-operation]');
    const functionButtons = document.querySelectorAll('[data-function]');
    const constantButtons = document.querySelectorAll('[data-constant]');
    const equalsButton = document.querySelector('[data-equals]');
    const deleteButton = document.querySelector('[data-delete]');
    const allClearButton = document.querySelector('[data-all-clear]');
    const previousOperandTextElement = document.querySelector('[data-previous-operand]');
    const currentOperandTextElement = document.querySelector('[data-current-operand]');
    const errorMessageElement = document.getElementById('error-message');

    const calculator = new Calculator(previousOperandTextElement, currentOperandTextElement, errorMessageElement);
    
    allClearButton.addEventListener('click', () => calculator.clear());
    deleteButton.addEventListener('click', () => calculator.delete());
    equalsButton.addEventListener('click', () => calculator.compute());
    
    numberButtons.forEach(button => {
        button.addEventListener('click', () => calculator.append(button.innerText));
    });

    operationButtons.forEach(button => {
        button.addEventListener('click', () => calculator.append(button.dataset.operation));
    });
    
    functionButtons.forEach(button => {
        const func = button.dataset.function;
        const symbol = { sqrt: '√', sin: 'sin', cos: 'cos', tan: 'tan', log: 'log', ln: 'ln' }[func];
        button.addEventListener('click', () => calculator.applyFunction(symbol));
    });

    constantButtons.forEach(button => {
        button.addEventListener('click', () => calculator.append('π'));
    });
    </script>
</body>
  </html>
